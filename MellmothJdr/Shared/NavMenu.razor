@using System.Security.Claims
@using MellmothJdr.Shared

@inherits NavMenuComponent;

<!-- Barre de navigation --><MudAppBar Color="Color.Dark">
    <MudIconButton Icon="@Icons.Material.Filled.Menu" OnClick="ToggleDrawer" Color="Color.Secondary" />
    <MudSpacer />
    <MudImage Src="/img/logo.jpg" Height="64"/>
</MudAppBar>

<!-- Menu latéral -->
<MudDrawer @bind-Open="_drawerOpen" Clipped="true" Elevation="1" Variant="DrawerVariant.Responsive">
    <MudNavMenu>
        
        @if (User.Identity?.Name != null)
        {
            <MudNavLink Href="@(Routes.Home)" Icon="@Icons.Material.Filled.House">Acceuil</MudNavLink>
            <MudNavLink Href="counter" Icon="@Icons.Material.Filled.BugReport">Counter</MudNavLink>
            <MudNavLink Href="fetchdata" Icon="@Icons.Material.Filled.DataThresholding">Fetch data</MudNavLink>
            <MudNavLink Href="@(Routes.Logout)" Icon="@Icons.Material.Filled.PowerSettingsNew" IconColor="Color.Secondary">Déconnection</MudNavLink>
        }
        else
        {
            <MudNavLink Href="@(Routes.Login)" Icon="@Icons.Material.Filled.PowerSettingsNew" IconColor="Color.Success">Connection</MudNavLink>
            
        }
    </MudNavMenu>
</MudDrawer>