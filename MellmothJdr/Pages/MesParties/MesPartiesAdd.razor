@page "/game/{GameId:guid}/my-game/add"
@using MellmothJdr.Services.Dto
@inherits MesPartiesAddPage

<PageTitle>Ajouter une partie</PageTitle>
@if (IsReady)
{

    <MudGrid>
        <MudItem xs="12" sm="12">
            <MudPaper Class="pa-4">
                <MudForm Model="@contextForm" Spacing="4" @ref="form" @bind-IsValid="@success">
                    <MudTextField T="string" Label="Nom de la partie" Required="true" RequiredError="Le nom de la partie est obligatoire!" @bind-Value="@contextForm.Nom"/>
                    <MudNumericField T="int?" Label="Nombre de participant" Required="true" RequiredError="Le nombre de participantest obligatoire!" @bind-Value="@contextForm.NombreParticipant"/>
                </MudForm>
            </MudPaper>
            <MudPaper Class="pa-4 mt-4">
                <MudButton Variant="Variant.Filled" Color="Color.Primary" DropShadow="false" OnClick="@(Save)"
                       StartIcon="@Icons.Material.Filled.Save">Enregistrer</MudButton>
                <MudButton Variant="Variant.Filled" Color="Color.Secondary" DropShadow="false" OnClick="@(Back)" Class="mx-2"
                           StartIcon="@Icons.Material.Filled.Cancel">Annuler</MudButton>
            </MudPaper>
        </MudItem>
    </MudGrid>

}
else
{
    <CustomLoader />
}
