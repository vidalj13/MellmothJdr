@page "/game/{GameId:guid}/my-game/add"
@using MellmothJdr.Services.Dto
@inherits MesPartiesAddPage

<PageTitle>@Texte.AjouterPartie</PageTitle>
@if (IsReady)
{

    <MudGrid>
        <MudItem xs="12" sm="12">
            <MudPaper Class="pa-4">
                <MudForm Model="@contextForm" Spacing="4" @ref="form" @bind-IsValid="@success">
                    <MudTextField T="string" Label="@Texte.Nom" Required="true" RequiredError="@string.Format(Texte.FormatIsRequired,Texte.Nom)" @bind-Value="@contextForm.Nom" />
                    <MudNumericField T="int?" Label="@Texte.NbParticipant" Required="true" RequiredError="@string.Format(Texte.FormatIsRequired,Texte.NbParticipant)" @bind-Value="@contextForm.NombreParticipant" />
                </MudForm>
            </MudPaper>
            <MudPaper Class="pa-4 mt-4">
                <MudButton Variant="Variant.Filled" Color="Color.Primary" DropShadow="false" OnClick="@(Save)"
                       StartIcon="@Icons.Material.Filled.Save">@Texte.Save</MudButton>
                <MudButton Variant="Variant.Filled" Color="Color.Secondary" DropShadow="false" OnClick="@(Back)" Class="mx-2"
                           StartIcon="@Icons.Material.Filled.Cancel">@Texte.Cancel</MudButton>
            </MudPaper>
        </MudItem>
    </MudGrid>

}
else
{
    <CustomLoader />
}
